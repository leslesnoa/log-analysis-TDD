# Log Analysis

## 前提条件
某監視システムの監視対象となる複数台のサーバに対して一定間隔でping応答確認結果が以下csv形式で1行ずつ監視ログファイルに追記される。
```
＜確認日時＞,＜サーバアドレス＞,＜応答結果＞
```

確認日時は、YYYYMMDDhhmmssの形式。ただし、年＝YYYY（4桁の数字）、月＝MM（2桁の数字。以下同様）、日＝DD、時＝hh、分＝mm、秒＝ssである。
サーバアドレスは、ネットワークプレフィックス長付きのIPv4アドレスである。
応答結果には、pingの応答時間がミリ秒単位で記載される。ただし、タイムアウトした場合は"-"(ハイフン記号)となる。

監視ログ例
```csv
20201019133124,10.20.30.1/16,2
20201019133125,10.20.30.2/16,1
20201019133134,192.168.1.1/24,10
20201019133135,192.168.1.2/24,5
20201019133224,10.20.30.1/16,522
20201019133225,10.20.30.2/16,1
20201019133234,192.168.1.1/24,8
20201019133235,192.168.1.2/24,15
20201019133324,10.20.30.1/16,-
20201019133325,10.20.30.2/16,2
```

### 機能
監視ログファイルを読み込み、故障状態のサーバアドレスとそのサーバの故障期間を出力する。
なお、pingがタイムアウトした場合を故障とみなし、最初にタイムアウトしたときから、次にpingの応答が返るまでを故障期間とする。

### 実行方法
コマンドラインで引数`target`に故障サーバーを解析するcsvを渡して実行する。
```bash
$ go run main.go -target=xxx.csv
```

### 出力例
```
故障サーバー: 192.168.1.1 故障期間: 1s
故障サーバー: 10.20.30.1 故障期間: 2s
合計故障サーバー数 2
```